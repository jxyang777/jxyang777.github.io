<<<<<<< Updated upstream
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>捐款資金流向追蹤系統</title>
    <style>
 

        </style>
   
	<link href='查詢募款人及受款人畫面.css' rel='stylesheet' type='text/css'>
	<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
</head>
<body>
	</form>
	<br>
                <label id="_address"  name="address">My Address</label>
                <br/>
                <input id="address" required pattern="[0-9a-zA-Z]{42,}" type="text" placeholder="請輸入您想查看的募款人或受款人的address"> 
                <br>
                <button id="fundraiserList">fundraiserList</button>
                <br>
                <button id="payeeList">payeeList</button>
                <br>
                <button id="showFunOrPayeeInfo" >查看此募款人或受款人基本資料</button>
                <br>
                <br>
                <br>
				<label id="_blockNumber">Block Number</label>
                <br>
				<input id="blockNumber" type="number" placeholder="輸入想要查看的block編號">
				<br>
				<button id="blockInfo" >查看某Block的資訊</button>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <button onclick="history.back()" class="button1"><a href="申請.html">Back</a></button>
				
				
	<script>
		if (typeof web3 !== 'undefined') {
			web3 = new Web3(web3.currentProvider);
		}
		else {
			// set the provider you want from Web3.providers
			web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:7545"));
		}
		var infoContract = new web3.eth.Contract([
	{
		"constant": false,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "donate",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			},
			{
				"name": "_name",
				"type": "string"
			},
			{
				"name": "_phoneNumber",
				"type": "string"
			},
			{
				"name": "_email",
				"type": "string"
			}
		],
		"name": "signUpFundraiser",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "searchMyValue",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			},
			{
				"name": "",
				"type": "uint256[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "getBuyList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			},
			{
				"name": "",
				"type": "uint256[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getDonorList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			}
		],
		"name": "signUpDonor",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			},
			{
				"name": "_name",
				"type": "string"
			},
			{
				"name": "_phoneNumber",
				"type": "string"
			},
			{
				"name": "_email",
				"type": "string"
			}
		],
		"name": "signUpPayee",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "search",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "getTotalValue",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "fundraiserList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "payeeList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			}
		],
		"name": "verify",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "donorList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_funOrPayee",
				"type": "address"
			}
		],
		"name": "showFunOrPayeeInfo",
		"outputs": [
			{
				"name": "",
				"type": "string"
			},
			{
				"name": "",
				"type": "string"
			},
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_payee",
				"type": "address"
			}
		],
		"name": "buy",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	}
], '0x21D9Bfa7BfdbB8B057e2ebCc5f49B1B808Bc3dBc');

        $("#fundraiserList").click(function () {
			var result = infoContract.methods.fundraiserList().call();
			result.then(function(value){
				//alert("募款人的address:"+value);
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="Fundraiser address:" + "<br>" +value  ;
			})
		});
        $("#payeeList").click(function () {
			var result = infoContract.methods.payeeList().call();

			result.then(function(value){
				//alert("受款人的address:"+value);
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="Payee address:" + "<br>" +value  ;
			})
			
		});

        $("#showFunOrPayeeInfo").click(function(){
			var result=infoContract.methods.showFunOrPayeeInfo($("#address").val()).call();
			result.then(function(value){
				//document.write("此帳戶的資訊為:",JSON.stringify(value));
                //alert("此帳戶的資訊為:"+JSON.stringify(value));
				result.then(function(value){
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="此人的基本資料(名字/電話/EMAIL信箱):" + "<br>" +JSON.stringify(value)  ;
			})
				
		    })
 		});

		 $("#blockInfo").click(function () {
			var result=web3.eth.getBlock($("#blockNumber").val());
			result.then(function(value){
				//alert("blockInfo:" + JSON.stringify(value))
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="此Block的資訊:" + "<br>" +JSON.stringify(value) ;
				
			})
		});

		
    

	</script>
    </div>
</body>

</html>
=======
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>捐款資金流向追蹤系統</title>
    <style>
 

        </style>
   
	<link href='查詢募款人及受款人畫面.css' rel='stylesheet' type='text/css'>
	<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
</head>
<body>
	</form>
	<br>
                <label id="_address"  name="address">My Address</label>
                <br/>
                <input id="address" required pattern="[0-9a-zA-Z]{42,}" type="text" placeholder="請輸入您想查看的募款人或受款人的address"> 
                <br>
                <button id="fundraiserList">fundraiserList</button>
                <br>
                <button id="payeeList">payeeList</button>
                <br>
                <button id="showFunOrPayeeInfo" >查看此募款人或受款人基本資料</button>
                <br>
                <br>
                <br>
				<label id="_blockNumber">Block Number</label>
                <br>
				<input id="blockNumber" type="number" placeholder="輸入想要查看的block編號">
				<br>
				<button id="blockInfo" >查看某Block的資訊</button>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <button onclick="history.back()" class="button1"><a href="申請.html">Back</a></button>
				
				
	<script>
		if (window.ethereum) {
    	web3 = new Web3(window.ethereum);
    	window.ethereum.enable();
	}	
		else {
    	web3 = new Web3(new Web3.providers.HttpProvider("http://192.168.50.75:8545"));
	}
		var infoContract = new web3.eth.Contract([
	{
		"constant": false,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "donate",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			},
			{
				"name": "_name",
				"type": "string"
			},
			{
				"name": "_phoneNumber",
				"type": "string"
			},
			{
				"name": "_email",
				"type": "string"
			}
		],
		"name": "signUpFundraiser",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "searchMyValue",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			},
			{
				"name": "",
				"type": "uint256[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "getBuyList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			},
			{
				"name": "",
				"type": "uint256[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getDonorList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			}
		],
		"name": "signUpDonor",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			},
			{
				"name": "_name",
				"type": "string"
			},
			{
				"name": "_phoneNumber",
				"type": "string"
			},
			{
				"name": "_email",
				"type": "string"
			}
		],
		"name": "signUpPayee",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "search",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_fundraiser",
				"type": "address"
			}
		],
		"name": "getTotalValue",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "fundraiserList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "payeeList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_password",
				"type": "string"
			}
		],
		"name": "verify",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "donorList",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_funOrPayee",
				"type": "address"
			}
		],
		"name": "showFunOrPayeeInfo",
		"outputs": [
			{
				"name": "",
				"type": "string"
			},
			{
				"name": "",
				"type": "string"
			},
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_payee",
				"type": "address"
			}
		],
		"name": "buy",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	}
], '0x77AeF511d582B1cBFD363E43D3f1F566AC97980F');

        $("#fundraiserList").click(function () {
			var result = infoContract.methods.fundraiserList().call();
			result.then(function(value){
				//alert("募款人的address:"+value);
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="Fundraiser address:" + "<br>" +value  ;
			})
		});
        $("#payeeList").click(function () {
			var result = infoContract.methods.payeeList().call();

			result.then(function(value){
				//alert("受款人的address:"+value);
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="Payee address:" + "<br>" +value  ;
			})
			
		});

        $("#showFunOrPayeeInfo").click(function(){
			var result=infoContract.methods.showFunOrPayeeInfo($("#address").val()).call();
			result.then(function(value){
				//document.write("此帳戶的資訊為:",JSON.stringify(value));
                //alert("此帳戶的資訊為:"+JSON.stringify(value));
				result.then(function(value){
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="此人的基本資料(名字/電話/EMAIL信箱):" + "<br>" +JSON.stringify(value)  ;
			})
				
		    })
 		});

		 $("#blockInfo").click(function () {
			var result=web3.eth.getBlock($("#blockNumber").val());
			result.then(function(value){
				//alert("blockInfo:" + JSON.stringify(value))
				document.body.appendChild(document.createElement('p'));
				document.querySelector("body p:last-child").id="jstext";
				document.querySelector("#jstext").innerHTML ="此Block的資訊:" + "<br>" +JSON.stringify(value) ;
				
			})
		});

		
    

	</script>
    </div>
</body>

</html>
>>>>>>> Stashed changes
